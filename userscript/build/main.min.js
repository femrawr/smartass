(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var a={},i=[],o=0;o<e.length;o++){var c=e[o],d=s.base?c[0]+s.base:c[0],p=a[d]||0,l="".concat(d," ").concat(p);a[d]=p+1;var h=n(l),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(u);else{var m=r(u,s);s.byIndex=o,t.splice(o,0,{identifier:l,updater:m,references:1})}i.push(l)}return i}function r(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=s(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var o=n(a[i]);t[o].references--}for(var c=s(e,r),d=0;d<a.length;d++){var p=n(a[d]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}a=c}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,s,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(s)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(i[c]=!0)}for(var d=0;d<e.length;d++){var p=[].concat(e[d]);s&&i[p[0]]||(void 0!==a&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=a),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),r&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=r):p[4]="".concat(r)),t.push(p))}},t}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},588:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(601),r=n.n(s),a=n(314),i=n.n(a)()(r());i.push([e.id,".scanner-smartass {\n    position: fixed;\n    top: 100px;\n    left: 100px;\n    width: 400px;\n    height: 250px;\n    border: 2px solid rgba(60, 60, 60, 0.8);\n    background: rgba(128, 128, 128, 0.15);\n    z-index: 10000;\n    box-sizing: border-box;\n    pointer-events: auto;\n}\n\n.scan-btn-smartass {\n    position: absolute;\n    top: -30px;\n    right: 0;\n    width: 60px;\n    height: 25px;\n    background: rgba(60, 60, 60, 0.9);\n    color: white;\n    border: 2px solid rgba(40, 40, 40, 1);\n    border-radius: 0;\n    cursor: pointer;\n    font-size: 12px;\n    z-index: 10001;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-family: Arial, sans-serif;\n}\n\n.output-smartass {\n    position: absolute;\n    top: 100%;\n    margin-top: 10px;\n    left: 0;\n    right: 0;\n    background: rgba(40, 40, 40, 0.9);\n    border: 2px solid rgba(80, 80, 80, 1);\n    border-radius: 4px;\n    padding: 10px;\n    font-family: Arial, sans-serif;\n    font-size: 12px;\n    overflow-y: auto;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.5);\n    display: none;\n    color: white;\n    user-select: text;\n    pointer-events: auto;\n}\n\n.dragger-smartass {\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    right: 10px;\n    bottom: 10px;\n    background: transparent;\n    z-index: 10001;\n}\n\n.resize-smartass {\n    position: absolute;\n    background: transparent;\n    z-index: 10002;\n}",""]);const o=i},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var s=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,r&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var a=t[s]={id:s,exports:{}};return e[s](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var s=n(72),r=n.n(s),a=n(825),i=n.n(a),o=n(659),c=n.n(o),d=n(56),p=n.n(d),l=n(540),h=n.n(l),u=n(113),m=n.n(u),x=n(588),f={};f.styleTagTransform=m(),f.setAttributes=p(),f.insert=c().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=h();r()(x.A,f);x.A&&x.A.locals&&x.A.locals;const g={inited:!1,scanner:null,create(e,t,n){const s=document.createElement(e);return t&&(s.className=t+"-smartass"),n&&(s.textContent=n),s},dragify(){let e,t,n=!1;const s=this.create("div","dragger");this.scanner.appendChild(s),s.addEventListener("mousedown",s=>{const r=this.scanner.querySelector(".scan-btn-smartass"),a=this.scanner.querySelector(".output-smartass");if(s.target===r||s.target===a||a.contains(s.target))return;n=!0,e=s.clientX-this.scanner.offsetLeft,t=s.clientY-this.scanner.offsetTop;const i=s=>{if(!n)return;const r=Math.max(0,Math.min(window.innerWidth-this.scanner.offsetWidth,s.clientX-e)),a=Math.max(30,Math.min(window.innerHeight-this.scanner.offsetHeight,s.clientY-t));this.scanner.style.left=r+"px",this.scanner.style.top=a+"px"},o=()=>{n=!1,document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",o),s.preventDefault()})},resizeify(){const e=["se","sw","ne","nw"],t=["n","s","w","e"],n=[...e,...t];let s,r,a,i,o,c,d=!1,p=null;e.forEach(e=>{const t=document.createElement("div");switch(t.className=`resize-smartass corner ${e}`,e){case"se":t.style.cssText="\n                        bottom: -5px;\n                        right: -5px;\n                        width: 10px;\n                        height: 10px;\n                        cursor: se-resize;\n                    ";break;case"sw":t.style.cssText="\n                        bottom: -5px;\n                        left: -5px;\n                        width: 10px;\n                        height: 10px;\n                        cursor: sw-resize;\n                    ";break;case"ne":t.style.cssText="\n                        top: -5px;\n                        right: -5px;\n                        width: 10px;\n                        height: 10px;\n                        cursor: ne-resize;\n                    ";break;case"nw":t.style.cssText="\n                        top: -5px;\n                        left: -5px;\n                        width: 10px;\n                        height: 10px;\n                        cursor: nw-resize;\n                    "}this.scanner.appendChild(t)}),t.forEach(e=>{const t=document.createElement("div");switch(t.className=`resize-smartass edge ${e}`,e){case"n":t.style.cssText="\n                        top: -5px;\n                        left: 10px;\n                        right: 10px;\n                        height: 10px;\n                        cursor: n-resize;\n                    ";break;case"s":t.style.cssText="\n                        bottom: -5px;\n                        left: 10px;\n                        right: 10px;\n                        height: 10px;\n                        cursor: s-resize;\n                    ";break;case"w":t.style.cssText="\n                        left: -5px;\n                        top: 10px;\n                        bottom: 10px;\n                        width: 10px;\n                        cursor: w-resize;\n                    ";break;case"e":t.style.cssText="\n                        right: -5px;\n                        top: 10px;\n                        bottom: 10px;\n                        width: 10px;\n                        cursor: e-resize;\n                    "}this.scanner.appendChild(t)}),n.forEach(e=>{this.scanner.querySelector(`.resize-smartass.${e}`).addEventListener("mousedown",t=>{d=!0,p=e,s=t.clientX,r=t.clientY,a=parseInt(window.getComputedStyle(this.scanner).width,10),i=parseInt(window.getComputedStyle(this.scanner).height,10),o=this.scanner.offsetLeft,c=this.scanner.offsetTop;const n=e=>{if(!d)return;const t=e.clientX-s,n=e.clientY-r;let l=a,h=i,u=o,m=c;switch(p){case"se":l=Math.max(50,a+t),h=Math.max(50,i+n);break;case"sw":l=Math.max(50,a-t),h=Math.max(50,i+n),u=Math.max(0,o+t);break;case"ne":l=Math.max(50,a+t),h=Math.max(50,i-n),m=Math.max(30,c+n);break;case"nw":l=Math.max(50,a-t),h=Math.max(50,i-n),u=Math.max(0,o+t),m=Math.max(30,c+n);break;case"n":h=Math.max(50,i-n),m=Math.max(30,c+n);break;case"s":h=Math.max(50,i+n);break;case"w":l=Math.max(50,a-t),u=Math.max(0,o+t);break;case"e":l=Math.max(50,a+t)}u+l>window.innerWidth&&(l=window.innerWidth-u),m+h>window.innerHeight&&(h=window.innerHeight-m),this.scanner.style.width=l+"px",this.scanner.style.height=h+"px",this.scanner.style.left=u+"px",this.scanner.style.top=m+"px"},l=()=>{d=!1,p=null,document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",l),t.preventDefault(),t.stopPropagation()})})},init(){if(this.inited)return;const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js",e.onload=()=>this.load(!0),document.head.appendChild(e)},load(e){if(!e)return void this.init();this.inited=!0,this.scanner=this.create("div","scanner");const t=this.create("button","scan-btn","scan"),n=this.create("div","output");this.scanner.appendChild(t),this.scanner.appendChild(n),this.resizeify(),this.dragify(),t.addEventListener("click",async e=>{e.stopPropagation(),t.textContent="...",t.disabled=!0;try{n.style.display="none",this.scanner.style.display="none";const e=await html2canvas(document.body,{useCORS:!0,allowTaint:!0,scale:1,logging:!1,width:window.innerWidth,height:window.innerHeight,scrollX:0,scrollY:0});this.scanner.style.display="block";const t=this.create("canvas"),s=t.getContext("2d"),r=this.scanner.getBoundingClientRect();t.width=r.width-4,t.height=r.height-4,s.drawImage(e,r.left+2,r.top+2,r.width-4,r.height-4,0,0,r.width-4,r.height-4);const a=await fetch("http://localhost:34781/process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:t.toDataURL("image/png")})});(await a.json()).success?(n.style.display="block",n.innerHTML=`\n                        <div style="position: absolute; top: 8px; right: 8px; width: 8px; height: 8px; border-radius: 50%; background: #4CAF50;"></div>\n                        <div style="margin-bottom: 10px;">\n                            <strong>Message:</strong> ${result.message}\n                        </div>\n                        ${result.data?`<div><strong>Data:</strong> ${result.data}</div>`:""}\n                    `):(n.style.display="block",n.innerHTML=`\n                        <div style="position: absolute; top: 8px; right: 8px; width: 8px; height: 8px; border-radius: 50%; background: #F44336;"></div>\n                        <div>${result.message}</div>\n                    `)}catch(e){n.style.display="block",n.innerHTML=`\n                    <div style="position: absolute; top: 8px; right: 8px; width: 8px; height: 8px; border-radius: 50%; background: #F44336;"></div>\n                    <div>Error: ${e.message}</div>\n                `}finally{t.textContent="scan",t.disabled=!1}}),document.body.appendChild(this.scanner)}};new class{constructor(){this.init()}init(){g.load(!1)}}})();